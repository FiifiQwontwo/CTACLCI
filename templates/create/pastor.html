{% extends 'base.html' %}
{% load static %}
{% block content %}
  <div class="content-wrapper">
    <section class="content-header">
      <div class="container-fluid">
        <div class="row mb-2">
          <div class="col-sm-6">
          </div>
        </div>
      </div>
    </section>
    <section class="content">
      <div class="row">
        <div class="col-md-6">
          <div class="card card-primary">
            <div class="card-header">
              <h3 class="card-title">Add New Pastor</h3>
              <div class="card-tools">
                <button type="button" class="btn btn-tool" data-card-widget="collapse" data-toggle="tooltip"
                        title="Collapse">
                  <i class="fas fa-minus"></i></button>
              </div>
            </div>
            <div class="card-body">
              <div class="form-group">
                <form method="POST" action="">
                  {% csrf_token %}
                  <div class="form-group">
                    <label>Title</label>
                    <select class="form-control select2" name="title" style="width: 100%;">
                      <option selected="selected">Ps</option>
                      <option>Rev</option>
                      <option>Bishop</option>
                    </select>
                  </div>
                  <div class="form-group">
                    <label>First Name </label>
                    <input
                            type='text'
                            name='first_name'
                            class="form-control"
                            placeholder="Enter first name">

                  </div>
                  <div class="form-group">
                    <label>Middle Name </label>
                    <input
                            type='text'
                            name='second_name'
                            class="form-control"
                            placeholder="Enter Middle Name">

                  </div>
                  <div class="form-group">
                    <label>Last Name</label>
                    <input
                            type='text'
                            name='surname'
                            class="form-control"
                            placeholder="Enter Last name">

                  </div>
                  <div class="form-group">
                    <label>Gender</label>
                    <select class="form-control select2" name="sex" style="width: 100%;">
                      <option selected="selected">Male</option>
                      <option>Female</option>
                    </select>

                  </div>
                  <div class="form-group">
                    <label>Phone Number</label>
                    <input
                            type='number'
                            data-inputmask="'mask': ['999-999-9999 [x99999]', '+099 99 99 9999[9]-9999']"
                            name='phone_number'
                            class="form-control">
                  </div>
                  <div class="form-group">
                    <label>Email Address</label>
                    <input
                            type='text'
                            name='email_address'
                            class="form-control"
                            placeholder="123@mail.com">
                    {#                    {{ pastor_create.email_address }}#}
                  </div>
                  <button type="submit" class="btn btn-primary">Submit</button>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/intlTelInput-jquery.min.js"
          integrity="sha512-hkmipUFWbNGcKnR0nayU95TV/6YhJ7J9YUAkx4WLoIgrVr7w1NYz28YkdNFMtPyPeX1FrQzbfs3gl+y94uZpSw=="
          crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    $(document).ready(function () {
      $("input[type=tel]").intlTelInput({
        initialCountry: "gh",
        utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/11.0.14/js/utils.js"

      });
    });

    function valid(d) {
      let input = $(d);
      //result = $("#result");
      //alert("go");
      let num = $(d).intlTelInput("getNumber"),
              valid = $(d).intlTelInput("isValidNumber");
      console.log(d.value);
      console.log(num);
      console.log("Number: " + num + ", valid: " + valid);
      if (valid) {
        d.value = num;
        //$(this).val(num);
      } else {
        // alert("please enter a Valid telephone number");
        $(d).val('');
        Swal.fire({
          title: 'Error!',
          text: 'Please Enter a valid telephone number',
          icon: 'error',
          iconColor: 'red',
          confirmButtonText: 'Ok',
        });
      }
    }
  </script>
{% endblock %}
